<!doctype html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Admin CandyLanding</title>
    <link rel="stylesheet" href="../styles.css" />
    <style>
      body {
        padding: 2rem;
        background: #fef6f9;
      }
      h1 {
        color: #f85aa8;
        text-align: center;
        margin-bottom: 2rem;
      }
      .form-section {
        margin-bottom: 2rem;
        padding: 1rem;
        background: #fff;
        border-radius: 1rem;
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
      }
      label {
        display: block;
        margin: 0.5rem 0 0.2rem;
      }
      input,
      textarea {
        width: 100%;
        padding: 0.5rem;
        border-radius: 0.5rem;
        border: 1px solid #ddd;
        margin-bottom: 0.5rem;
      }
      button {
        background: #f85aa8;
        color: #fff;
        border: none;
        padding: 0.6rem 1.2rem;
        border-radius: 0.6rem;
        cursor: pointer;
        margin-top: 0.5rem;
      }
      button:hover {
        background: #e44d99;
      }
      pre {
        background: #f0f0f0;
        padding: 1rem;
        border-radius: 0.5rem;
        overflow-x: auto;
      }
    </style>
  </head>
  <body>
    <h1>Admin CandyLanding üç¨</h1>

    <!-- Form para Combos -->
    <div class="form-section">
      <h2>Agregar Combo</h2>
      <label>Nombre</label>
      <input type="text" id="comboNombre" />
      <label>Descripci√≥n</label>
      <textarea id="comboDescripcion"></textarea>
      <label>Precio</label>
      <input type="number" id="comboPrecio" />
      <label>URL Imagen</label>
      <input type="text" id="comboImagen" />
      <button onclick="addCombo()">Agregar Combo</button>
    </div>

    <!-- Form para Trabajos -->
    <div class="form-section">
      <h2>Agregar Trabajo</h2>
      <label>T√≠tulo</label>
      <input type="text" id="trabajoTitulo" />
      <label>URL Imagen</label>
      <input type="text" id="trabajoImagen" />
      <button onclick="addTrabajo()">Agregar Trabajo</button>
    </div>

    <!-- Previews -->
    <div class="form-section">
      <h2>YAML Generado</h2>
      <pre id="yamlOutput">combos: []\ntrabajos: []</pre>
      <button onclick="downloadYAML()">Descargar YAML</button>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/js-yaml@4.1.0/dist/js-yaml.min.js"></script>
    <script>
      let data = { combos: [], trabajos: [] };

      function updateYAML() {
        document.getElementById("yamlOutput").textContent = jsyaml.dump(data);
      }

      function addCombo() {
        const nombre = document.getElementById("comboNombre").value;
        const descripcion = document.getElementById("comboDescripcion").value;
        const precio = document.getElementById("comboPrecio").value;
        const imagen = document.getElementById("comboImagen").value;
        if (!nombre || !descripcion || !precio || !imagen)
          return alert("Todos los campos son requeridos");
        data.combos.push({ nombre, descripcion, precio, imagen });
        updateYAML();
        document.getElementById("comboNombre").value = "";
        document.getElementById("comboDescripcion").value = "";
        document.getElementById("comboPrecio").value = "";
        document.getElementById("comboImagen").value = "";
      }

      function addTrabajo() {
        const titulo = document.getElementById("trabajoTitulo").value;
        const imagen = document.getElementById("trabajoImagen").value;
        if (!titulo || !imagen) return alert("Todos los campos son requeridos");
        data.trabajos.push({ titulo, imagen });
        updateYAML();
        document.getElementById("trabajoTitulo").value = "";
        document.getElementById("trabajoImagen").value = "";
      }

      function downloadYAML() {
        const blob = new Blob([jsyaml.dump(data)], { type: "text/yaml" });
        const link = document.createElement("a");
        link.href = URL.createObjectURL(blob);
        link.download = "combos-trabajos.yml";
        link.click();
      }

      // Inicializar preview
      updateYAML();
    </script>
  </body>
</html>
